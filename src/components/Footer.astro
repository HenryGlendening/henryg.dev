---
import { SOCIAL_LINKS } from "../consts";

const currentYear = new Date().getFullYear();

const ICONS: Record<string, { viewBox: string; paths: string[] }> = {
  Email: {
    viewBox: "0 0 24 24",
    paths: [
      "M2 6a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6Zm2.5 0L12 13l7.5-7H4.5ZM4 7.9V18h16V7.9l-8 7.1-8-7.1Z",
    ],
  },
  GitHub: {
    viewBox: "0 0 24 24",
    paths: [
      "M12 .5a12 12 0 0 0-3.8 23.4c.6.1.8-.3.8-.6v-2.1c-3.3.7-4-1.4-4-1.4-.6-1.5-1.3-1.9-1.3-1.9-1.1-.7.1-.7.1-.7 1.2.1 1.9 1.3 1.9 1.3 1.1 1.8 2.8 1.3 3.5 1 .1-.8.4-1.3.8-1.6-2.6-.3-5.3-1.3-5.3-5.8 0-1.3.5-2.4 1.2-3.3-.1-.3-.5-1.5.1-3.1 0 0 1-.3 3.3 1.3a11.5 11.5 0 0 1 6 0c2.3-1.6 3.3-1.3 3.3-1.3.6 1.6.2 2.8.1 3.1.8.9 1.2 2 1.2 3.3 0 4.5-2.8 5.5-5.4 5.8.4.4.8 1.1.8 2.3v3.4c0 .3.2.7.8.6A12 12 0 0 0 12 .5Z",
    ],
  },
  X: {
    viewBox: "0 0 24 24",
    paths: [
      "M18.9 2h3.6l-7.8 9 9.1 11h-7.2l-5.6-6.8L4.8 22H1.2l8.4-9.7L.8 2H8l5.1 6.1L18.9 2Zm-1.3 17.8h2L6.8 4.1h-2L17.6 19.8Z",
    ],
  },
  LinkedIn: {
    viewBox: "0 0 24 24",
    paths: [
      "M4.8 3.5A2.3 2.3 0 1 1 4.8 8a2.3 2.3 0 0 1 0-4.5ZM2.7 9.6h4.2V22H2.7V9.6Zm6.9 0h4v1.7h.1c.6-1 1.9-2 3.9-2 4.2 0 5 2.8 5 6.4V22h-4.2v-5.6c0-1.3 0-3-1.9-3-1.9 0-2.2 1.5-2.2 2.9V22H9.6V9.6Z",
    ],
  },
  RSS: {
    viewBox: "0 0 24 24",
    paths: [
      "M6.2 17.8a2.2 2.2 0 1 0 0 4.4 2.2 2.2 0 0 0 0-4.4Z",
      "M2 9.2v3.2c5.3 0 9.6 4.3 9.6 9.6h3.2C14.8 14.9 9.1 9.2 2 9.2Z",
      "M2 2v3.2c9.3 0 16.8 7.5 16.8 16.8H22C22 10.9 13.1 2 2 2Z",
    ],
  },
};
---

<footer class="mt-14 border-t border-border/90">
  <div class="app-layout flex flex-col gap-3 py-6 text-sm sm:flex-row sm:items-center sm:justify-between">
    <p class="text-foreground/75">Â© {currentYear} Henry Glendening</p>

    <ul class="flex items-center gap-2">
      {
        SOCIAL_LINKS.map((social) => {
          const icon = ICONS[social.label];
          const isExternal = social.href.startsWith("http");

          return (
            <li>
              <a
                href={social.href}
                target={isExternal ? "_blank" : undefined}
                rel={isExternal ? "noopener noreferrer" : undefined}
                class="inline-flex size-9 items-center justify-center rounded-md border border-border text-foreground transition-colors hover:border-accent hover:bg-accent hover:text-background"
                aria-label={social.label}
              >
                {
                  icon ? (
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      viewBox={icon.viewBox}
                      fill="currentColor"
                      class="size-4"
                      aria-hidden="true"
                    >
                      {icon.paths.map((path) => <path d={path}></path>)}
                    </svg>
                  ) : (
                    <span class="text-xs">{social.label}</span>
                  )
                }
              </a>
            </li>
          );
        })
      }
    </ul>
  </div>
</footer>
