---
import type { CollectionEntry } from "astro:content";
import { SITE } from "../consts";

interface Props {
  post: CollectionEntry<"blog">;
}

const { post } = Astro.props;

const postURL = `/posts/${post.id}/`;
const formattedDate = new Intl.DateTimeFormat(SITE.lang, {
  dateStyle: "medium",
  timeZone: SITE.timezone,
}).format(post.data.pubDatetime);
---

<article class="border-b border-border py-3">
  <h3 class="text-lg leading-snug">
    <a href={postURL} class="font-bold text-accent transition-colors hover:text-accent/80">{post.data.title}</a>
  </h3>

  <time class="mt-1 block text-xs text-accent/70" datetime={post.data.pubDatetime.toISOString()}>
    {formattedDate}
  </time>

  <p class="mt-1.5 text-sm text-foreground/80">{post.data.description}</p>
</article>
